**`git stash`** в **Git** используется для временного сохранения изменений в рабочей директории и индексе, без создания коммита.
Это позволяет "отложить" незавершённую работу, чтобы переключиться на другую задачу (*например, на другую ветку*), а потом вернуться к ней.
**Stash** — это как "тайник", где изменения хранятся отдельно от основной истории коммитов.

### Назначение

- **Сохранение изменений**: Git сохраняет текущее состояние (модифицированные файлы, добавленные в индекс) в стек стэшей, очищая рабочую директорию до состояния последнего коммита.
- **Восстановление**: Позволяет применить сохранённые изменения позже, возможно, на другой ветке
- **Удобство**: Полезно, когда вы не хотите коммитить "грязную" работу, но нужно срочно переключиться (например, на hotfix).


### Варианты использования

1. **`git stash`**: (*или git stash save "Сообщение"*) Сохраняет изменения и очищает рабочую директорию. Если добавить сообщение, оно поможет идентифицировать стэш позже.
2. **`git stash list`**: Выводит список всех стэшей в формате stash@{N}: сообщение (N — индекс, начиная с 0 для последнего).
3. **`git stash apply`**: Применяет последний стэш (stash@{0}) к текущей ветке, но не удаляет его из списка.
4. **`git stash pop`**: Применяет последний стэш и удаляет его из списка. Удобно для одноразового использования.
5. **`git stash drop stash@{N}`**: Удаляет указанный стэш (или последний, если без аргумента).
6. **`git stash clear`**: Удаляет весь стек стэшей.


### Опции

- **`--include-untracked`** (или **`-u`**): Сохраняет также неотслеживаемые файлы (новые файлы, не добавленные в Git).
- **`--all`** (или **`-a`**): Сохраняет всё, включая неотслеживаемые и игнорируемые файлы (*кроме .gitignore*).
- **`--keep-index`** (или **`-k`**): Сохраняет изменения в рабочей директории, но оставляет индекс (staging) нетронутым.
- **`--patch`** (или **`-p`**): Интерактивно выбирает, какие изменения сохранить в стэш.
- Для apply/pop: **`--index`** — применяет также изменения в индекс.


### Ограничения

- **Stash** не сохраняет пустые директории или изменения прав доступа (*chmod*).
- Если вы переключаетесь на ветку с конфликтами, **stash** может не примениться чисто — всегда проверяйте с `git status`.
- **Stash** локальный: не синхронизируется с удалённым репозиторием, так что на другом компьютере его не будет.
- При частом использовании стэшей история может запутаться — старайтесь коммитить чаще.